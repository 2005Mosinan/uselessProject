<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Excuse Generator</title>


<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600&family=Fredoka:wght@500&display=swap" rel="stylesheet">

<style>
    body {
        font-family: 'Baloo 2', cursive;
        background: linear-gradient(135deg, #FFDEE9, #B5FFFC);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        margin: 0;
        color: #333;
        padding: 20px;
    }

    h1 {
        font-size: 3rem;
        background: linear-gradient(45deg, #FF6F61, #FFB400);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 20px;
        font-weight: bold;
        text-align: center;
        font-family: 'Fredoka', sans-serif;
        text-shadow: 2px 2px #fff5;
    }

    .card {
        background: rgba(255, 255, 255, 0.7);
        padding: 25px;
        border-radius: 20px;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px rgba(0,0,0,0.15);
        max-width: 500px;
        width: 100%;
        text-align: center;
        animation: fadeIn 0.5s ease-in-out;
    }

    #excuse-box {
        font-size: 1.6rem;
        margin: 15px 0;
        min-height: 80px;
        transition: opacity 0.3s ease-in-out;
        color: #444;
        padding: 15px;
        border-radius: 10px;
        background: rgba(255,255,255,0.3);
    }

    select, input {
        padding: 10px;
        font-size: 1rem;
        margin: 5px;
        border-radius: 8px;
        border: none;
        outline: none;
        background: rgba(255,255,255,0.6);
        color: #333;
        font-family: 'Baloo 2', cursive;
    }

    select option {
        color: #333;
    }

    .controls {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        margin: 15px 0;
    }

    .btn {
        padding: 12px 20px;
        font-size: 1rem;
        border: none;
        border-radius: 30px;
        background: linear-gradient(45deg, #FF6F61, #FFB400);
        color: white;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        font-family: 'Fredoka', sans-serif;
    }

    .btn:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 20px rgba(255,111,97,0.4);
    }

    .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
    }

    .copy-btn {
        background: linear-gradient(45deg, #36D1DC, #5B86E5);
    }

    .copy-btn:hover {
        box-shadow: 0 4px 20px rgba(91,134,229,0.4);
    }

    .ai-btn {
        background: linear-gradient(45deg, #667eea, #764ba2);
    }

    .ai-btn:hover {
        box-shadow: 0 4px 20px rgba(102,126,234,0.4);
    }

    .add-section, .api-section {
        margin-top: 20px;
        padding: 15px;
        border-radius: 15px;
        background: rgba(255,255,255,0.5);
    }

    .loading {
        display: none;
        color: #666;
        font-style: italic;
    }

    .tone-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 5px;
        margin: 10px 0;
    }

    @keyframes fadeIn {
        from {opacity: 0; transform: translateY(10px);}
        to {opacity: 1; transform: translateY(0);}
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .spinner {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid #f3f3f3;
        border-top: 3px solid #3498db;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-right: 10px;
    }
</style>
</head>
<body>

<h1>üòÇ Excuse Generator</h1>

<div class="card">
    <!-- AI Status -->
    <div class="api-section">
        <h3>ü§ñ AI Powered Excuses</h3>
        <p style="font-size: 0.9rem; color: #555;">‚ú® AI is ready to generate creative excuses for you!</p>
    </div>

    <!-- Controls -->
    <div class="controls">
        <select id="category">
            <option value="work">Work</option>
            <option value="school">School/Homework</option>
            <option value="gym">Gym</option>
            <option value="wife">Wife</option>
            <option value="girlfriend">Girlfriend</option>
            <option value="husband">Husband</option>
            <option value="boyfriend">Boyfriend</option>
        </select>

        <select id="tone">
            <option value="funny">üòÇ Funny</option>
            <option value="romantic">üíï Romantic</option>
            <option value="sympathy">üòá Sympathy</option>
            <option value="dramatic">üé≠ Dramatic</option>
            <option value="professional">üëî Professional</option>
            <option value="creative">üé® Creative</option>
            <option value="innocent">üòä Innocent</option>
            <option value="mysterious">üïµÔ∏è Mysterious</option>
        </select>
    </div>

    <div id="excuse-box">Choose a category, tone, and click the button...</div>
    <div class="loading" id="loading">
        <span class="spinner"></span>Generating your perfect excuse...
    </div>

    <div class="controls">
        <button class="btn" onclick="generateExcuse()">üìù Random Excuse</button>
        <button class="btn ai-btn" onclick="generateAIExcuse()">ü§ñ AI Excuse</button>
        <button class="btn copy-btn" onclick="copyExcuse()">üìã Copy</button>
    </div>

    <div class="add-section">
        <h3>Add Your Own Excuse</h3>
        <input type="text" id="new-excuse" placeholder="Type your excuse here" style="width: 80%;">
        <div class="controls">
            <select id="add-category">
                <option value="work">Work</option>
                <option value="school">School/Homework</option>
                <option value="gym">Gym</option>
                <option value="wife">Wife</option>
                <option value="girlfriend">Girlfriend</option>
                <option value="husband">Husband</option>
                <option value="boyfriend">Boyfriend</option>
            </select>
            <button class="btn" onclick="addExcuse()">‚ûï Add</button>
        </div>
    </div>
</div>

<script>
    const excuses = {
        work: [
            "Sorry, I got stuck in traffic‚Ä¶ caused by ducks crossing the road.",
            "I was abducted by friendly aliens. They dropped me back, but late.",
            "My Zoom meeting turned into a cooking class by accident.",
            "I got locked out of my own email account.",
            "I was helping my neighbor catch their runaway turtle."
        ],
        school: [
            "My homework was eaten by my neighbor's rabbit.",
            "I was making a sandwich but it turned into a five-course meal.",
            "I joined the wrong Google Classroom‚Ä¶ in another school.",
            "I lost my notebook when my dog decided it was a chew toy.",
            "I was stuck in a staring contest with my cat. He won."
        ],
        gym: [
            "I couldn't find my gym shoes because my dog was wearing them.",
            "I was warming up‚Ä¶ mentally‚Ä¶ for three hours.",
            "My water bottle leaked all over my gym bag. Disaster.",
            "I pulled a muscle reaching for the TV remote.",
            "I accidentally joined a yoga class for senior citizens. Stayed for tea."
        ],
        wife: [
            "I was late because I was practicing how to agree with you in the mirror.",
            "I couldn't come because I was Googling 'how to be a better husband'.",
            "The GPS sent me to the flower shop instead of here.",
            "I got distracted watching cute couple videos‚Ä¶ for research.",
            "I was trying to remember our anniversary date‚Ä¶ took a while."
        ],
        girlfriend: [
            "Sorry, I was busy writing you a song in my head.",
            "I had to stop and delete all my ex's photos‚Ä¶ twice.",
            "I was picking out which smile of yours is my favorite.",
            "I got stuck in traffic behind a wedding proposal.",
            "I was practicing saying 'you're right' in five languages."
        ],
        husband: [
            "I couldn't leave‚Ä¶ the game went into overtime.",
            "I was fixing something‚Ä¶ that I broke earlier.",
            "I was trying to open a jar but refused to admit defeat.",
            "I had to explain to the cat why it's not allowed on the couch.",
            "I was watching YouTube tutorials on how to fold laundry."
        ],
        boyfriend: [
            "I got lost trying to find the perfect snack for movie night.",
            "I was busy planning our dream vacation‚Ä¶ in my head.",
            "I couldn't decide which hoodie of mine you'd like to steal.",
            "I was rehearsing pickup lines in case I forgot how to talk to you.",
            "I was stalking cute couple TikToks for inspiration."
        ]
    };

    function generateExcuse() {
        const category = document.getElementById("category").value;
        const list = excuses[category];
        const randomIndex = Math.floor(Math.random() * list.length);
        const box = document.getElementById("excuse-box");
        box.style.opacity = 0;
        setTimeout(() => {
            box.textContent = list[randomIndex];
            box.style.opacity = 1;
        }, 300);
    }

    async function generateAIExcuse() {
        // TODO: Replace with your actual Gemini API key
        const apiKey = "AIzaSyA2DmJbi6xjkLgzCOsAazp5IXeEsbbmzLQ";
        
        // if (apiKey === "AIzaSyA2DmJbi6xjkLgzCOsAazp5IXeEsbbmzLQ") {
        //     alert("Please add your Gemini API key to the code first!");
        //     return;
        // }

        const category = document.getElementById("category").value;
        const tone = document.getElementById("tone").value;
        const box = document.getElementById("excuse-box");
        const loading = document.getElementById("loading");

        // Show loading state
        box.style.opacity = 0.3;
        loading.style.display = "block";
        document.querySelector(".ai-btn").disabled = true;

        const toneDescriptions = {
            funny: "hilarious and absurd",
            romantic: "sweet, loving and romantic",
            sympathy: "sympathetic and understanding",
            dramatic: "overly dramatic and theatrical",
            professional: "formal and business-appropriate",
            creative: "creative and imaginative",
            innocent: "innocent and childlike",
            mysterious: "mysterious and intriguing"
        };

        const prompt = `Generate a ${toneDescriptions[tone]} excuse for ${category}. 
        The excuse should be:
        - One or two sentences maximum
        - ${tone} in tone
        - Believable but creative
        - Appropriate for the context of ${category}
        
        Just return the excuse text, nothing else.`;

        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-goog-api-key': apiKey
                },
                body: JSON.stringify({
                    contents: [{
                        parts: [{
                            text: prompt
                        }]
                    }]
                })
            });

            if (!response.ok) {
                throw new Error(`API Error: ${response.status}`);
            }

            const data = await response.json();
            const generatedExcuse = data.candidates[0].content.parts[0].text.trim();
            
            // Add to our collection for future random selections
            excuses[category].push(generatedExcuse);
            
            setTimeout(() => {
                box.textContent = generatedExcuse;
                box.style.opacity = 1;
                loading.style.display = "none";
                document.querySelector(".ai-btn").disabled = false;
            }, 300);

        } catch (error) {
            console.error('Error generating excuse:', error);
            loading.style.display = "none";
            box.style.opacity = 1;
            document.querySelector(".ai-btn").disabled = false;
            alert('Failed to generate AI excuse. Please check your API key and try again.');
        }
    }

    function copyExcuse() {
        const excuseText = document.getElementById("excuse-box").textContent;
        if (excuseText && excuseText !== "Choose a category, tone, and click the button...") {
            navigator.clipboard.writeText(excuseText).then(() => {
                alert("Excuse copied to clipboard! üìã");
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement("textarea");
                textArea.value = excuseText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert("Excuse copied to clipboard! üìã");
            });
        } else {
            alert("Generate an excuse first! üòä");
        }
    }

    function addExcuse() {
        const newExcuse = document.getElementById("new-excuse").value.trim();
        const category = document.getElementById("add-category").value;

        if (newExcuse) {
            excuses[category].push(newExcuse);
            document.getElementById("new-excuse").value = "";
            alert("Your excuse has been added! üéâ");
        } else {
            alert("Please type an excuse before adding. ‚úçÔ∏è");
        }
    }

    // API key is now hardcoded in the generateAIExcuse function
    // No need for input field event listener
</script>

</body>
</html>

